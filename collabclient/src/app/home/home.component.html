<!-- Music Room Homepage -->
<div class="home-container">
  <!-- Hero Section -->
  <div class="hero-section">
    <h1>ðŸŽµ Music Room</h1>
    <p>Host or join a music room, add songs together, vote your favorites to the top, and sync playback across devices â€” powered by Spotify.</p>

    <!-- Spotify Connection Section -->
    <div *ngIf="!isSpotifyConnected">
      <button class="spotify-connect-button" (click)="connectToSpotify()">
        <span>Connect with Spotify</span>
      </button>
    </div>

    <!-- Connected User Section -->
    <div *ngIf="isSpotifyConnected" class="user-section">
      <!-- User Profile -->
      <div class="user-profile">
        <img *ngIf="userDetails?.avatarUrl" [src]="userDetails?.avatarUrl" class="avatar" alt="Profile picture">
        <div class="user-info">
          <div class="name">{{userDetails?.name}}</div>
          <div class="status">Connected with Spotify</div>
        </div>
      </div>

      <!-- Room Actions -->
      <div class="room-actions">
        <button class="create-room-btn" (click)="createRoom()">Create Room</button>
        <button class="join-room-btn" (click)="joinRoom()">Join Room</button>
      </div>

      <!-- Room joining section -->
      <div class="join-room-container">
        <input type="text" [(ngModel)]="roomCode" placeholder="Enter 4-digit room code" maxlength="4" pattern="\d{4}">
        <!-- <button (click)="joinRoom()" [disabled]="!isValidRoomCode()">Join Room</button> -->
        <div *ngIf="error" class="error-message">{{ error }}</div>
      </div>

      <!-- Disconnect Button -->
      <button class="disconnect-btn" (click)="disconnectSpotify()">Disconnect Spotify</button>
    </div>
  </div>

  <!-- Features Section -->
  <div class="features-grid">
    <div class="feature-card">
      <h2 class="green">ðŸŽ§ Join or Create Rooms</h2>
      <p>Start a private music room or join an existing one with a code or link.</p>
    </div>
    <div class="feature-card">
      <h2 class="pink">ðŸ“ˆ Vote for Songs</h2>
      <p>Add songs to the queue and vote them up. The most loved songs play first!</p>
    </div>
    <div class="feature-card">
      <h2 class="blue">ðŸ•º Sync Playback</h2>
      <p>Music is synced in real-time so everyone hears the same beat.</p>
    </div>
  </div>
</div>
